version: 1.3.6
name: deno_proxy
scripts:
  serve:
    cmd: deno run mod.ts --isCacheNoVersion --logLevel DEBUG
    desc: run my main.ts file
    allow:
      - net
      - env
      - write
      - read
    unstable: true
    watch: false
  dev:
    cmd: deno run example/mod.ts
    allow:
      - net
      - env
      - write
      - read
    unstable: true  
    importMap: example/import_map_proxy.json
    watch: false
  cache: 
    cmd: deno cache  example/mod.ts
    watch: false
    unstable: true
    importMap: example/import_map_proxy.json
    env: 
      DENO_DIR: deno-dir
  map: 
    cmd: deno run --allow-read --allow-write ./cli/mod.ts --baseUrl http://localhost:7878 --oldPath example/import_map.json --newPath example/import_map_proxy.json --ignoreOrigins /baidu.com/,/xunlei.cn/ 
    watch: false
    unstable: true
  build:
    cmd: deno bundle mod.ts mod.js
    watch: false
    unstable: false